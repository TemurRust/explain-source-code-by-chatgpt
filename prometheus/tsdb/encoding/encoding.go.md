# File: tsdb/encoding/encoding.go

在Prometheus项目中，tsdb/encoding/encoding.go文件的作用是提供编码和解码数据的功能。这个文件包含了一系列的变量、结构体和函数，用于处理不同编码格式的数据。

ErrInvalidSize是一个错误变量，用于表示编码或解码时遇到的无效的大小。ErrInvalidChecksum是另一个错误变量，表示校验和无效。

Encbuf是一个结构体，用于保存编码数据的缓冲区。Decbuf是一个结构体，用于保存解码数据的缓冲区。ByteSlice是一个轻量级的字节切片，用于将字节切片与另一个类型组合在一起。

Reset函数用于重置缓冲区，将其重设为初始状态。Get函数用于从缓冲区中获取下一个编码的值。Len函数返回缓冲区中剩余字节的长度。PutString函数将字符串编码并放入缓冲区。PutByte函数将单个字节放入缓冲区。PutBytes函数将字节切片放入缓冲区。PutBE32int函数将32位有符号整数按大端字节序编码并放入缓冲区。PutUvarint32函数将32位无符号整数编码并放入缓冲区。PutBE64int64函数将64位有符号整数按大端字节序编码并放入缓冲区。PutUvarint函数将无符号整数编码并放入缓冲区。PutBE32函数将32位整数按大端字节序编码并放入缓冲区。PutBE64函数将64位整数按大端字节序编码并放入缓冲区。PutBEFloat64函数将64位浮点数按大端字节序编码并放入缓冲区。PutUvarint64函数将64位无符号整数编码并放入缓冲区。PutVarint64函数将64位有符号整数编码并放入缓冲区。PutUvarintStr函数将字符串长度和字符串编码并放入缓冲区。PutUvarintBytes函数将字节切片长度和字节切片编码并放入缓冲区。PutHash函数将哈希值编码并放入缓冲区。WriteToHash函数将缓冲区的字节写入哈希计算器。PutHashSum函数将哈希计算器的哈希值编码并放入缓冲区。

NewDecbufAt函数在给定位置创建一个新的解码缓冲区。NewDecbufUvarintAt函数在给定位置创建一个新的无符号整数解码缓冲区。NewDecbufRaw函数根据给定的字节切片创建一个新的解码缓冲区。Uvarint函数从缓冲区中解码无符号整数。Uvarint32函数从缓冲区中解码32位无符号整数。Be32int函数按大端字节序从缓冲区中解码32位有符号整数。Be64int64函数按大端字节序从缓冲区中解码64位有符号整数。Crc32函数计算给定输入的CRC-32校验和。Skip函数从缓冲区中跳过指定长度的字节。UvarintStr函数从缓冲区中解码字符串。UvarintBytes函数从缓冲区中解码字节切片。Varint64函数从缓冲区中解码有符号整数。Uvarint64函数从缓冲区中解码64位无符号整数。Be64函数按大端字节序从缓冲区中解码64位整数。Be64Float64函数按大端字节序从缓冲区中解码64位浮点数。Be32函数按大端字节序从缓冲区中解码32位整数。Byte函数从缓冲区中解码单个字节。ConsumePadding函数跳过缓冲区中的填充字节。Err函数用于创建一个新的错误包装。

