# File: complex.go

complex.go是Go语言运行时库中的一个文件，它提供了复数类型和相关操作的实现。

在Go语言中，复数类型可以表示形如a+bi的数，其中a和b分别代表实部和虚部。复数类型是在complex64和complex128两种精度上实现的，分别占据8个字节和16个字节。在complex.go文件中，实现了以下几个主要的函数：

- func complex128(r, i float64) complex128：创建一个实部为r，虚部为i的复数。这个函数返回一个complex128类型的值。
- func real(c complex128) float64：获取一个复数的实部。这个函数接收一个复数类型的参数，并返回一个float64类型的实数。
- func imag(c complex128) float64：获取一个复数的虚部。这个函数接收一个复数类型的参数，并返回一个float64类型的实数。
- func conj(c complex128) complex128：获取一个复数的共轭复数。这个函数接收一个复数类型的参数，并返回一个complex128类型的值。
- func polar(r, θ float64) complex128：根据极坐标系下的值，创建一个复数。这个函数接收一个浮点数r和一个角度值θ，返回一个complex128类型的值。

除了以上这些函数之外，complex.go中还实现了一些常用的复数操作，如加、减、乘、除等运算，以及判断两个复数是否相等的函数等。

总之，complex.go文件提供了Go语言中复数类型的实现，使得开发者可以方便地进行复数计算。

## Functions:

### inf2one

函数inf2one()的作用是将复数中的无穷大（inf）替换为1。在计算机科学中，无穷大表示一个值超出了可以表示的数字范围。在复数运算中，如果一个数与无限大相乘或相加，则结果将是无限大。

在复数运算中，inf2one()函数被用来处理运算中的无穷大值。通常情况下，计算机会返回NaN（不是一个数字）或Inf（无限大）值。这些值可以在程序中引起错误或导致计算不准确。 使用inf2one()函数，可以将无穷大的值替换为1，这使得程序的行为更为符合预期。

下面是inf2one()函数的代码片段，它定义在complex.go文件中：

```go
func inf2one(x complex128) complex128 {
	if real(x) == math.Inf(1) || real(x) == math.Inf(-1) ||
		imag(x) == math.Inf(1) || imag(x) == math.Inf(-1) {
		return 1
	}
	return x
}
```

该函数的输入参数为一个复数。如果该复数中任一分量为无穷大，则函数返回1。如果复数中没有无穷大的分量，则原样返回该复数。

在实际应用中，inf2one()函数通常用于复数的运算或计算中。该函数可以提高程序的鲁棒性，防止运算过程中产生奇怪的结果。同时，函数也能够提高程序的可读性，使得程序员能够更加清晰地理解代码逻辑。



### complex128div

complex128div函数是用来计算两个复数的商的函数。它的函数签名为：

```
func complex128div(a, b complex128) complex128
```

其中，a和b均为复数。该函数返回的值是a/b的商，也是一个复数。

复数表示为a+bi的形式，其中a和b都是实数，i表示虚数单位，i的平方等于-1。

在计算a/b的过程中，首先将分母b的共轭复数和分子a相乘，这样分母就变成了实数，然后将分子和分母都除以分母的模长得到最终的结果。

该函数在Go语言的标准库runtime中作为内部函数使用，用于支持复数类型的计算。通常情况下，用户不需要直接调用该函数。



